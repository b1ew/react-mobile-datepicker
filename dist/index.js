!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.reactMobileDatePickerTs=t(require("react"),require("react-dom")):e.reactMobileDatePickerTs=t(e.React,e.ReactDOM)}(this,(x,P)=>(()=>{"use strict";var n={244:e=>{e.exports=x},741:e=>{e.exports=P}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e](t,t.exports,o),t.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var e={};{o.r(e),o.d(e,{Direction:()=>Y,Themes:()=>S,dateConfigMap:()=>w,default:()=>h});var Y,t,C=o(244),I=o.n(C),S=((t=Y=Y||{})[t.UP=1]="UP",t[t.DOWN=-1]="DOWN",["default","dark","ios","android","android-dark"]),w={year:{format:"YYYY",caption:"Year",step:1,type:"year"},month:{format:"M",caption:"Mon",step:1,type:"month"},date:{format:"D",caption:"Day",step:1,type:"date"},hour:{format:"hh",caption:"Hour",step:1,type:"hour"},minute:{format:"mm",caption:"Min",step:1,type:"minute"},second:{format:"hh",caption:"Sec",step:1,type:"second"}};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return"targetTouches"in e&&!!e.targetTouches[0]}var E=function(e){return"string"==typeof e&&w.hasOwnProperty(e)},O=function(e){return!!(t=e)&&"object"===a(t)&&"string"==typeof e.type&&E(e.type);var t};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){if("[object Date]"!==Object.prototype.toString.call(e))throw new Error("Invalid Date")}function U(e,n){var r=n,t={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};return/(Y+)/.test(n)&&(r=r.replace(RegExp.$1,e.getFullYear().toString().substr(4-RegExp.$1.length))),Object.entries(t).map(function(e){var e=i(e,2),t=e[0],e=e[1];new RegExp("(".concat(t,")")).test(n)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?"".concat(e):"00".concat(e).substr(e.toString().length)))}),r}function T(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return u(e),new Date(e.getTime()+24*t*60*60*1e3)}var L={year:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return u(e),new Date(e.getFullYear()+t,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},month:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=(u(e),e.getFullYear()),t=e.getMonth()+t,r=Math.min(e.getDate(),new Date(n,t+1,0).getDate());return new Date(n,t,r,e.getHours(),e.getMinutes(),e.getSeconds())},date:T,hour:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return u(e),new Date(e.getTime()+60*t*60*1e3)},minute:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return u(e),new Date(e.getTime()+60*t*1e3)},second:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return u(e),new Date(e.getTime()+1e3*t)}};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var n=e.step,r=e.type,o=e.value;return Array.apply(void 0,F(Array(p))).map(function(e,t){return L[r](o,(t-W)*n)})}function f(e){function t(e){v.current=(R(e)?e.targetTouches[0]:e).pageY,g.current=T,b.current=0}function n(e){var e=(R(e)?e.targetTouches[0]:e).pageY-v.current,t=g.current+e,e=0<e?Y.DOWN:Y.UP,n=j[W];n.getTime()<l.getTime()||n.getTime()>s.getTime()||(P(e,t)&&(b.current+=e,x(e)),D(t))}function r(e){e=0<(R(e)?e.changedTouches[0]:e).pageY-v.current?Y.UP:Y.DOWN,N(e)}function o(e){d||("touchstart"===e.type?t(e):"touchmove"===e.type?n(e):"touchend"===e.type&&r(e))}function a(e){d||n(e)}function i(e){d||(E(!1),r(e))}var c=e.type,u=e.value,l=e.min,s=e.max,f=e.format,p=e.step,m=e.onSelect,d=(e=$((0,C.useState)(!1),2))[0],y=e[1],v=(0,C.useRef)(0),g=(0,C.useRef)(0),h=(0,C.useRef)(W),b=(0,C.useRef)(0),S=(0,C.useRef)(null),w=(e=$((0,C.useState)(!1),2))[0],E=e[1],O=(0,C.useRef)(),T=(e=$((0,C.useState)(q),2))[0],D=e[1],j=(e=$((0,C.useState)(H({step:p,type:c,value:u})),2))[0],M=e[1],A=(e=$((0,C.useState)(0),2))[0],k=e[1],x=((0,C.useEffect)(function(){return function(){O.current&&clearTimeout(O.current)}},[O]),(0,C.useEffect)(function(){h.current=W,D(q),k(0),M(H({step:p,type:c,value:u}))},[p,c,u]),function(e){e===Y.UP?(h.current++,M([].concat(F(j.slice(1)),[L[c](j[j.length-1],p)]))):(h.current--,M([L[c](j[0],-p)].concat(F(j.slice(0,j.length-1))))),k(40*(h.current-W))}),P=function(e,t){return e===Y.UP?40*h.current+20<-t:40*h.current-20>-t},N=function(e){var t=j[W];e===Y.UP&&t.getTime()<l.getTime()&&b.current?x(Y.UP):e===Y.DOWN&&t.getTime()>s.getTime()&&b.current&&x(Y.DOWN),e=h.current,y(!0),D(40*-e),O.current=setTimeout(function(){y(!1),m(j[W])},200)},e=((0,C.useEffect)(function(){if(w)return document.addEventListener("mousemove",a),document.addEventListener("mouseup",i),function(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",i)}},[w,a,i]),(0,C.useEffect)(function(){return null!=S&&S.current&&(S.current.addEventListener("touchstart",o,{passive:!1}),S.current.addEventListener("touchmove",o,{passive:!1}),S.current.addEventListener("touchend",o,{passive:!1})),function(){null!=S&&S.current&&(S.current.removeEventListener("touchstart",o),S.current.removeEventListener("touchmove",o),S.current.removeEventListener("touchend",o))}},[]),(0,C.useCallback)(function(e,t){var n=e<l||s<e?"disabled":"",r=(r=f)&&"[object Function]"===Object.prototype.toString.apply(r)?f(e):U(e,f);return I().createElement("li",{key:"".concat(t),className:n},r)},[l,s,f])),A={"--margin-top":A,"--translate-y":T};return I().createElement("div",{className:"datepicker-col-1"},I().createElement("div",{ref:S,className:"datepicker-viewport",onMouseDown:function(e){e.stopPropagation(),d||(E(!0),t(e))}},I().createElement("div",{className:"datepicker-wheel"},I().createElement("div",{className:"datepicker-scroll ".concat(d?"active":""),style:A},j.map(e)))))}var p=10,W=Math.floor(p/2),q=-40*W;const D=I().memo(f,function(e,t){return e.value.getTime()===t.value.getTime()});function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const g=function(e){function n(e){b(e),v&&v(e)}var t,r=e.theme,r=void 0===r?"default":r,o=e.value,a=void 0===o?new Date:o,o=e.min,i=void 0===o?new Date(1970,0,1):o,o=e.max,c=void 0===o?new Date(2050,0,1):o,o=e.showFooter,o=void 0===o||o,u=e.showHeader,u=void 0===u||u,l=e.showCaption,l=void 0!==l&&l,s=e.dateConfig,s=void 0===s?[{format:"YYYY",caption:"Year",type:"year",step:1},{format:"M",caption:"Mon",type:"month",step:1},{format:"D",caption:"Day",type:"date",step:1}]:s,f=e.headerFormat,f=void 0===f?"YYYY/MM/DD":f,p=e.confirmText,p=void 0===p?"Done":p,m=e.cancelText,m=void 0===m?"Cancel":m,d=e.customHeader,y=e.onSelect,v=e.onChange,e=e.onCancel,g=j((0,C.useState)(T(a)),2),h=g[0],b=g[1],g=((0,C.useEffect)(function(){b(function(e){return e.getTime()!==a.getTime()?new Date(a):e})},[a]),(0,C.useEffect)(function(){h.getTime()>c.getTime()&&b(new Date(c)),h.getTime()<i.getTime()&&b(new Date(i))},[h,i,c]),s.map(function(e){if(E(e))return Object.assign(Object.assign({},w[e]),{type:e});var t;if(O(e))return t=e.type,Object.assign(Object.assign(Object.assign({},w[t]),e),{type:t});throw new Error("invalid dateConfig")}));return I().createElement("div",{className:"datepicker ".concat("string"!=typeof(t=r)||!S.find(function(e){return e===t})?"default":r)},u&&I().createElement("div",{className:"datepicker-header"},d||U(h,f)),l&&I().createElement("div",{className:"datepicker-caption"},g.map(function(e,t){return I().createElement("div",{key:t,className:"datepicker-caption-item"},e.caption)})),I().createElement("div",{className:"datepicker-content"},g.map(function(e,t){return I().createElement(D,{key:t,value:h,min:i,max:c,step:e.step,type:e.type,format:e.format,onSelect:n})})),o&&I().createElement("div",{className:"datepicker-navbar"},I().createElement("button",{className:"datepicker-navbar-btn",onClick:function(){y&&y(h)}},p),I().createElement("button",{className:"datepicker-navbar-btn",onClick:e},m)))};var b=o(741);function M(e){var t=e.isOpen,e=e.children,n="undefined"!=typeof window?document.body:null;return void 0!==t&&t&&n&&e?b.createPortal(C.createElement("div",{className:"datepicker-modal"},e),n):null}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){function t(e){e.target===e.currentTarget&&r&&i(!0)}var n=void 0!==(n=e.isOpen)&&n,r=e.onCancel,e=v(e,["isOpen","onCancel"]),o=A(C.useState(!1),2),a=o[0],i=o[1];return n?C.createElement("div",{role:"presentation",onMouseDown:t,onTouchStart:t,onClick:function(e){a&&e.target===e.currentTarget&&r&&(i(!1),r(e))},className:"datepicker-modal"},C.createElement(g,Object.assign({},e))):null}function y(e){var t=void 0===(t=e.isPopup)||t,n=void 0!==(n=e.isOpen)&&n,e=v(e,["isPopup","isOpen"]);return t?C.createElement(M,{isOpen:n},C.createElement(k,Object.assign({},e,{isOpen:n}))):C.createElement(g,Object.assign({},e))}var v=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};y.displayName="MobileDatePicker";const h=y}return e})());